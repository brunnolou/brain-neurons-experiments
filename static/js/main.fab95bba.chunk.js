(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){e.exports=n(44)},33:function(e,t,n){},35:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(22),r=n.n(o),s=(n(33),n(35),n(48)),c=n(47),l=n(46),h=n(12),u=n(18),p=n(1),d=n(2),f=n(5),m=n(4),v=n(6),b=n(7),g=n(13),w=n(23),y=n.n(w),x={green:"#00fab8",red:"#ff0069",black:"#000",white:"#fff",dark:"#333",gray:"#888"},M=n(15),E=n(16),O=800,j=800;function k(){var e=Object(M.a)(["\n  max-width: ","px;\n  max-height: ","px;\n  width: 100%;\n"]);return k=function(){return e},e}function A(){var e=Object(M.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n\tpadding: 5%;\n"]);return A=function(){return e},e}console.log("canvas: ",O);var z=E.a.div(A()),D=E.a.div(k(),O,j),C=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.a.createElement(z,null,i.a.createElement(D,null,this.props.children))}}]),t}(a.Component);function H(){var e=Object(M.a)(["\n  width: ","px;\n  height: ","px;\n  animation: "," 1.5s;\n"]);return H=function(){return e},e}function P(){var e=Object(M.a)(["\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n"]);return P=function(){return e},e}var W,F,R=Object(E.b)(P()),T=E.a.canvas.attrs({width:O,height:j})(H(),O,j,R),S=function(e,t,n){return Math.min(Math.max(e,t),n)},$=new y.a;$.init(function(){W=$.speedX,F=$.speedY});var q=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"createChart",value:function(){var e=this;this.space=new b.b(this.ptsCanvas).setup({bgcolor:x.black,resize:!0,retina:!0}),this.form=this.space.getForm();var t,n,a,i=new b.g,o=[],r=[],s=!1;this.space.add({start:function(){i=e.space.center;var s=Object(h.a)(b.a,Object(u.a)(e.space.innerBound));t=Math.floor(s.width/50),n=Math.floor(s.height/50),r=b.c.gridPts(s,t,n),o=b.c.noisePts(r,.12,.12,t,n),i=e.space.center,a=Object(g.b)([0,e.space.width],[1,0])},animate:function(t){i=(i=i.add(e.space.pointer.$subtract(i))).add(e.space.pointer.$subtract(i).divide(1.5)),o.forEach(function(n,i){var o=b.f.cycle(t%3e3/3e3),r=0;"self-motion"===e.props.mode?(r=.1+a(n.x),n.step(.05*o,0)):n.step(.005,0);var c=.2+S(1-function(e,t,n){return b.f.mapToRange(b.f.clamp(e.noise2D(),-.5,.5),-.5,.5,t,n)}(n,0,1)%4*4,0,1);n.mouseAlpha=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.05;return void 0===e.fade&&(e.fade=1),t>0&&(e.fade=t),0!==e.fade&&(e.fade+=(n-e.fade)*a),e.fade||0}(n,s&&n.dist<90?1.5:0,0,"vector"===e.props.mode?.03:void 0);var l=Math.round(2*c)/2,h=.2+("cursor"===e.props.mode?l:n.mouseAlpha);"dots"!==e.props.mode&&"cursor"!==e.props.mode||e.form.stroke(!1).fill("rgba(255,255,255, "+h+")",1).point(n,10,"circle"),"self-motion"===e.props.mode&&e.form.stroke(!1).fill("rgba(255,255,255, "+r+")",1).point(n,10,"circle")}),"vector"===e.props.mode&&o.forEach(function(t,n){var a=t.speed/50,i=new b.d(t.$add(new b.g(t.mouseAlpha>.5?t.speedX:0,t.mouseAlpha>.5?t.speedY:0)),t),o=new b.g(5,15).$multiply(new b.g(.1+a,.1+a)),r=b.e.marker(i,o,"arrow",!1);e.form.stroke("rgba(255,255,255, "+(.3+a)+")",2).line(i),e.form.fill("rgba(255,255,255, "+(.3+a)+")",1).polygon(r),e.form.stroke(!1).fill("rgba(255,255,255, 0.4)",2).point(t,2,"circle")}),"cursor"===e.props.mode&&e.form.fillOnly("#f00").point(i,30,"circle")},action:function(t,n,a){switch(t){case"down":s=!0;break;case"out":case"up":s=!1;break;case"move":o.forEach(function(t,n){t.dist=Object(g.a)({x:t.x,y:t.y},{x:e.space.pointer.x,y:e.space.pointer.y})}),s&&o.forEach(function(e,t){e.dist<90&&(e.speedX=S(W,-40,40),e.speedY=S(F,-40,40),e.speed=Math.max(Math.abs(e.speedX),Math.abs(e.speedY)))});default:return}},resize:function(t){e.form.ready&&e.space.clear()}}),this.space.bindMouse().bindTouch(),this.space.play()}},{key:"componentDidMount",value:function(){this.createChart(),console.log("this.props: ",this.props)}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return i.a.createElement(C,null,i.a.createElement(T,{innerRef:function(t){e.ptsCanvas=t}}))}}]),t}(a.Component);q.defaultProps={mode:"dots"};var L=q,N=function(e,t){var n=t.canvasWidth,a=t.canvasHeight,i=t.globalMotion,o=t.globalMotionAngle,r=void 0===o?0:o;e&&(this.domElement=e,this.lastTimeStamp=null,this.particles=[],this.canvasWidth=n,this.canvasHeight=a,this.globalMotionAngle=r,this.globalMotion=i,this.isLeftOrRight=this.globalMotionAngle&&Math.random()>.5?180:0,this.init())},G=N.prototype;G.init=function(){this.createChildren().layout().enable()},G.createChildren=function(){return this.canvas=this.domElement,this.context=this.canvas.getContext("2d"),this.lastTimeStamp=(new Date).getTime(),this},G.layout=function(){return window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,this},G.removeChildren=function(){return this.context=null,this.canvasWidth=null,this.canvasHeight=null,this.lastTimeStamp=null,this},G.enable=function(){this.createParticleData(),this.renderLoop()},G.createParticleData=function(){for(var e=0;e<144;e++)this.particles[e]={hasGlobalMotion:this.globalMotion&&e/144>.8},this.setParticleData(this.particles[e])},G.setParticleData=function(e){var t=e.hasGlobalMotion;e.x=Math.random()*this.canvasWidth,e.y=Math.random()*this.canvasHeight,e.z=Math.random()*this.canvasHeight;var n=Object(g.c)({x:0,y:0},t?this.globalMotionAngle+this.isLeftOrRight+10*(Math.random()-.5):360*Math.random(),1);e.vx=n.x,e.vy=n.y,e.vz=1*(Math.random()-.5)*2},G.update=function(){for(var e=0;e<144;e++){var t=this.particles[e];t.x+=t.vx,t.y+=t.vy,t.z+=t.vz,t.x-10>this.canvasWidth?t.x=0:t.x+10<0&&(t.x=this.canvasWidth),t.y-10>this.canvasHeight?t.y=0:t.y+10<0&&(t.y=this.canvasHeight),t.z>this.canvasHeight?(t.z=this.canvasHeight,t.vz*=-1):t.z<0&&(t.z=0,t.vz*=-1)}},G.draw=function(){var e=0;if(this.context)for(this.context.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.context.fillStyle="#555";e<144;e++){var t=this.particles[e];this.context.save(),this.context.beginPath(),this.context.arc(t.x,t.y,10,0,2*Math.PI),this.context.fill(),this.context.restore()}},G.renderLoop=function(){requestAnimationFrame(this.renderLoop.bind(this)),this.update()};var X=N,Y=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).canvasNode=null,n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.canvasNode){this.particleSystem=new X(this.canvasNode,{canvasWidth:O,canvasHeight:j,speed:2,globalMotion:this.props.globalMotion,globalMotionAngle:this.props.globalMotionAngle}),this.space=new b.b(this.canvasNode).setup({bgcolor:x.black,resize:!0,retina:!0}),this.form=this.space.getForm();var t=new b.g;this.space.add({start:function(){t=e.space.center},animate:function(n){var a=b.f.cycle(n%1e4/1e4),i=Object(g.c)(e.space.center,1080*a-80,250),o=new b.g(i);t=t.add(e.space.pointer.$subtract(t).divide(1));e.particleSystem.particles.forEach(function(t,a){if("spatial"===e.props.mode){var i=10*(b.f.cycle(n%2e4/2e4)-.5);t.vy=0,t.vx=i}e.form.fillOnly(e.props.globalMotion&&t.hasGlobalMotion&&e.isMouseDown?x.red:x.gray).point(new b.g(t),10,"circle")}),e.isMouseDown&&!e.props.globalMotion&&e.form.fillOnly(x.red).point(o,30,"circle")},action:function(t,n,a){switch(t){case"down":e.isMouseDown=!e.isMouseDown;break;case"out":case"up":break;default:return}},resize:function(t){e.form.ready&&e.space.clear()}}),this.space.bindMouse().bindTouch(),this.space.play()}}},{key:"render",value:function(){var e=this;return i.a.createElement(C,null,i.a.createElement(T,{innerRef:function(t){e.canvasNode=t}}))}}]),t}(a.Component),B=function(){return i.a.createElement(s.a,{basename:"/brain-neurons-experiments"},i.a.createElement("div",null,i.a.createElement(c.a,{exact:!0,path:"/",render:function(e){return i.a.createElement(L,Object.assign({},e,{mode:"dots"}))}}),i.a.createElement(c.a,{exact:!0,path:"/cursor",render:function(e){return i.a.createElement(L,Object.assign({},e,{mode:"cursor"}))}}),i.a.createElement(c.a,{path:"/vector-field",render:function(e){return i.a.createElement(L,Object.assign({},e,{mode:"vector"}))}}),i.a.createElement(c.a,{path:"/self-motion",render:function(e){return i.a.createElement(L,Object.assign({},e,{mode:"self-motion"}))}}),i.a.createElement(c.a,{path:"/particles",render:function(e){return i.a.createElement(Y,e)}}),i.a.createElement(c.a,{path:"/global-motion",render:function(e){return i.a.createElement(Y,Object.assign({globalMotion:!0},e))}}),i.a.createElement(c.a,{path:"/particles-spatial",render:function(e){return i.a.createElement(Y,Object.assign({mode:"spatial"},e))}}),i.a.createElement("nav",null,i.a.createElement("span",null,i.a.createElement(l.a,{to:"/"},"Game"))," | ",i.a.createElement("span",null,i.a.createElement(l.a,{to:"/vector-field"},"Vector Field"))," | ",i.a.createElement("span",null,i.a.createElement(l.a,{to:"/particles"},"Particles"))," | ",i.a.createElement("span",null,i.a.createElement(l.a,{to:"/particles-spatial"},"spatial")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,2,1]]]);
//# sourceMappingURL=main.fab95bba.chunk.js.map